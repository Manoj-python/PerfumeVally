{% extends 'admin_panel/base.html' %}
{% block content %}
{% block title %}
<style>
  .btn-maroon,.btn-maroon:hover{
    background-color: maroon;
    color: white;

  }
</style>
{% endblock title %}
<div class="container mt-4">

  <!-- ðŸ”¹ Product Variants Section -->
  <h2>All Product Variants</h2>

  <!-- Filter Form -->
  <form method="get" class="d-flex gap-2 align-items-center mb-3">
  <input type="text" name="q" value="{{ query }}" class="form-control w-25" placeholder="ðŸ” Search..." />
  
  {% if query %}
    <a href="?page={{ page_obj.number }}" class="btn btn-maroon btn-sm">Clear Filters</a>
  {% else %}
    <button type="submit" class="btn btn-maroon">Filter</button>
  {% endif %}
</form>


  <!-- Product Variants Table -->
  {% if variants %}
    <table class="table table-bordered mt-3">
      <thead class="thead-dark">
        <tr>
          <th>Product Name</th>
          <th>Variant Type</th>
          <th>Size</th>
          <th>Price</th>
          <th>Stock</th>
          <th>Status</th>
        </tr>
      </thead>
      <tbody>
        {% for variant in page_obj %}
          <tr>
            <td>{{ variant.product.name }}</td>
            <td>{{ variant.bottle_type|default:"â€”" }}</td>
            <td>{{ variant.size|default:"â€”" }}</td>
            <td>â‚¹{{ variant.price }}</td>
            <td>{{ variant.stock }}</td>
            <td>
              {% if variant.stock > 10 %}
                <span class="badge bg-success">In Stock</span>
              {% elif variant.stock > 0 %}
                <span class="badge bg-warning text-dark">Low Stock</span>
              {% else %}
                <span class="badge bg-danger">Out of Stock</span>
              {% endif %}
            </td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  {% else %}
    <p>No product variants available.</p>
  {% endif %}

  

</div>
{% endblock %}
